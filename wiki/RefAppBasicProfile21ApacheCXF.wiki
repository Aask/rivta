#summary RIV Teknisk anvisning - Basic Profile v2.1 - Referensapplikation - Apache CXF Environment

=RIV Teknisk anvisning - Basic Profile v2.1 - Referensapplikation - Apache CXF Environment=

<wiki:toc max_depth="3" />

==Environment==

The reference application requires the following to be pre installed:

  * Java SE Development Kit v5.0 or later
    * [http://java.sun.com/javase/downloads/index.jsp download] 
  * Maven v2.0.9 or later
    * [http://maven.apache.org/download.html download] 
  * Any Subversion client
    * [http://subversion.tigris.org/ download] 

==Checkout and build the reference application==

  # [http://code.google.com/p/rivta/source/checkout Checkout the source code]
  # mvn install

==Running the reference application==

===Producer===

  # `cd rivta-bp21-refapp-producer`
  # `mvn -e exec:java -Dexec.mainClass="se.skl.rivta.bp21.refapp.producer.Server"

This should produce output after running the consumer once similar to the following:

http://rivta.googlecode.com/svn/wiki/images/refApp/cxf-producer-rivtabp21.png

===Consumer===

  # `cd rivta-bp20-refapp-consumer`
  # `mvn -e exec:java -Dexec.mainClass="se.skl.rivta.bp21.refapp.consumer.crm.scheduling.Initiator"

This should produce output similar to the following:

http://rivta.googlecode.com/svn/wiki/images/refApp/cxf-consumer-rivtabp21.png

==Sample soap/http-request==

{{{
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:add="http://www.w3.org/2005/08/addressing" xmlns:urn="urn:riv:crm:scheduling:MakeBookingResponder:1" xmlns:urn1="urn:riv:crm:scheduling:1">
   <soapenv:Header>
      <add:To>1234561234</add:To>
   </soapenv:Header>
   <soapenv:Body>
      <urn:MakeBooking>
        
      </urn:MakeBooking>
   </soapenv:Body>
</soapenv:Envelope>
}}}

==Prepare for development in Eclipse==

`mvn eclipse:eclipse`

==Overview of Maven modules==

  * schemas
    Contains XML Schemas and WSDL artefacts.
    Also responsible for generating JAXB and JAX-WS binding code. 

  * util
    Contains reusable code, log-settings and so on. 

  * producer
    Service producer. 

  * consumer
    Service consumer. 